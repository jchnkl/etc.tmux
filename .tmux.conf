source ${HOME}/.tmux.solarized.conf

# global options
set-option -g           prefix                  C-a
set-option -g           default-terminal        screen-256color-it
set-option -g           status-keys             vi
set-option -g           visual-bell             off
set-option -g           display-time            5000
set-option -g           history-limit           10000
set-option -g -a        update-environment      " XAUTHORITY"

# server options
set-option -g -s        escape-time             0
set-option -g           repeat-time             1000
set-option -g           mouse-utf8              on

# window options
set-window-option -g    utf8                    on
set-window-option -g    mode-keys               vi
set-window-option -g    automatic-rename        off
set-window-option -g    aggressive-resize       on

set-option -g           status-interval         60
set-option -g           status-right-length     100

# status bar information on right-hand side
# set-option -g status-right '%a %b %d, %H:%M'
# set-option -g status-right "#(echo -n \"`TERM=vt100; zsh -c 'source ~/.zshrc; updateWeather; updateBattery; updatePrompt; buildPrompt; print -P \${RPROMPT}'`\" | tr -d '\n')"
#if-shell '[ -n "$XWORKSPACE" ]' 'set-option -g status-left "[$XWORKSPACE]"'

bind                    a           send-prefix
bind                    C-a         last-window
bind                    C-c         new-window
bind                    C-d         detach-client
bind                    K           choose-session "kill-session -t %%"

# Paste from X clipboard
unbind                  -n M-P
bind P run "xclip -o | tmux load-buffer - ; tmux paste-buffer"

# Copy paste buffer to X clipboard
unbind                  -n M-y
bind y run "tmux show-buffer | xclip -i"

bind                    Escape      copy-mode
bind -t vi-copy         Escape      cancel
bind -t vi-choice       Escape      cancel
bind -c -t vi-edit      Escape      cancel
bind -c -t vi-edit      C-u         delete-line

# bind o select-pane -t :.+
unbind                  o
bind                    o           break-pane

bind                    O           choose-window "join-pane -s %%"
bind                    C-o         choose-window "join-pane -s %%"

# bind r refresh-client
unbind                  r
bind -r                 r           rotate-window -D
bind -r                 C-r         rotate-window -D
bind -r                 R           rotate-window -U

# default bind L switch-client -l
unbind                  L
bind -r                 L           next-layout
bind -r                 C-l         next-layout

# default: bind Space next-layout
unbind                  Space
bind -r                 Space       next-window
bind -r                 C-Space     next-window

# default: bind n next-window
unbind                  n
bind -r                 n           next-window
bind -r                 C-n         next-window

# default: bind p previous-window
unbind                  p
bind -r                 p           previous-window
bind -r                 C-p         previous-window

bind -r                 BSpace      previous-window
bind -r                 C-BSpace    previous-window

# C-Tab is bound to F20 in urxvt; see also .Xresources
bind -r                 Tab         select-pane -t:.+
bind -r                 F20         select-pane -t:.+

bind -r                 BTab        select-pane -t:.-
bind -r                 C-BTab      select-pane -t:.-

# bind s choose-session
unbind                  s
bind                    s           split-window -v

unbind                  v
bind                    v           split-window -h

# hjkl movement
bind -r                 j           select-pane -D
bind -r                 k           select-pane -U
bind -r                 h           select-pane -L
# default: bind l last-window
unbind                  l
bind -r                 l           select-pane -R

# default: bind , command-prompt -I #W "rename-window '%%'"
unbind                  ,
bind -r                 ,           resize-pane -L 5
# default: bind . command-prompt "move-window -t '%%'"
unbind                  .
bind -r                 .           resize-pane -R 5
# default: bind - delete-buffer
unbind                  -
bind -r                 -           resize-pane -D 5
# default: bind = choose-buffer
unbind                  =
bind -r                 =           resize-pane -U 5
